# yaml-language-server: $schema=../schemas/components.schema.json
# Metadata about the catalog

metadata:
  title: "Catálogo de Componentes de Datos"
  version: "1.0.0"
  date: "2025-09-18"
  description: "Componentes lógicos/físicos que realizan/gestionan entidades de datos en el Sistema de Información de Transporte Público."
  author:
    - "Jostin Cubero Torres"
    - "Fabián Abarca Calderón"
  organization: "Laboratorio de Sistemas Inteligentes de Movilidad (SIMOVI)"
  contact: "simovi@ucr.ac.cr"
  license: "CC BY-NC 4.0"

data_components:
  - id: "component:001"
    name: "Relational Database Manager"
    description: "Transactional relational database (e.g., PostgreSQL) that materializes canonical GTFS entities."
    data_entities:
      - "data-entity:001"  # Agency
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop Time
      - "data-entity:006"  # Calendar
      - "data-entity:007"  # Calendar Date
      - "data-entity:008"  # Fare Attribute
      - "data-entity:009"  # Fare Rule
      - "data-entity:010"  # Timeframe
      - "data-entity:011"  # Rider Category
      - "data-entity:012"  # Fare Medium
      - "data-entity:013"  # Fare Product
      - "data-entity:014"  # Fare Leg Rule
      - "data-entity:015"  # Fare Leg Join Rule
      - "data-entity:016"  # Fare Transfer Rule
      - "data-entity:017"  # Area
      - "data-entity:018"  # Stop Area
      - "data-entity:019"  # Network
      - "data-entity:020"  # Route Network
      - "data-entity:021"  # Shape
      - "data-entity:022"  # Frequency
      - "data-entity:023"  # Transfer
      - "data-entity:024"  # Pathway
      - "data-entity:025"  # Level
      - "data-entity:026"  # Location Group
      - "data-entity:027"  # Location Group Stop
      - "data-entity:028"  # Location
      - "data-entity:029"  # Booking Rule
      - "data-entity:030"  # Translation
      - "data-entity:031"  # Feed Info
      - "data-entity:032"  # Attribution

  - id: "component:002"
    name: "Databus API (GTFS Ingestion)"
    description: "Ingestion service that imports and validates GTFS files and writes them into the relational database."
    data_entities:
      - "data-entity:001"  # Agency
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # StopTime
      - "data-entity:006"  # Calendar
      - "data-entity:007"  # CalendarDate

  - id: "component:003"
    name: "Infobus API (Public Query)"
    description: "HTTP read-only API that exposes routes, trips, stops, and schedules to the public."
    data_entities:
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # StopTime

  - id: "component:004"
    name: "Infobus Screens (Display Server)"
    description: "Back-end service that feeds information displays for stations and users; consumes Infobus API."
    data_entities:
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip

  - id: "component:005"
    name: "Infobus Info Server (Aggregation/Cache)"
    description: "Internal aggregation and caching service for combined catalog and real-time data queries."
    data_entities:
      - "data-entity:001"  # Agency
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:006"  # Calendar

  - id: "component:006"
    name: "Infobus Data (Analytics/BI)"
    description: "Analytical platform that consolidates historical data for reporting and business intelligence models (BI/ETL)."
    data_entities:
      - "data-entity:002"  # Stop
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # StopTime


