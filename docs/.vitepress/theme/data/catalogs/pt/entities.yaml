# yaml-language-server: $schema=../schemas/entities.schema.json
# Metadata about the catalog

metadata:
  title: "Catálogo de Entidades de Datos"
  version: "1.0.0"
  date: "2025-09-18"
  description: "Entidades canónicas del Sistema de Información de Transporte Público (alineadas a GTFS y extensiones operativas)."
  author:
    - "Jostin Cubero Torres"
    - "Fabián Abarca Calderón"
  organization: "Laboratorio de Sistemas Inteligentes de Movilidad (SIMOVI)"
  contact: "simovi@ucr.ac.cr"
  license: "CC BY-NC 4.0"

data_entities:

# -------------
# GTFS Schedule
# -------------

  - id: data-entity:001
    name: "Agency"
    presence: "Required"
    description: "Transit agencies with service represented in this dataset."
    attributes:
    - id: attribute:001
      name: "agency_name"
      type: "String"
      presence: "Required"
      description: "Full name of the transit agency."
    - id: attribute:002
      name: "agency_url"
      type: "String"
      presence: "Required"
      description: " URL of the transit agency."
    - id: attribute:003
      name: "agency_timezone"
      type: "String"
      presence: "Required"
      description: "Timezone where the transit agency is located."
    - id: attribute:004
      name: "agency_id"
      type: "String"
      presence: "Required"
      description: "Identifies a transit brand which is often synonymous with a transit agency."
  - id: data-entity:002
    name: "Stop"
    presence: "Conditionally Required"
    description: "Stops where vehicles pick up or drop off riders. Also defines stations and station entrances."
    attributes:
    - id: attribute:010
      name: "stop_id"
      type: "String"
      description: "Identifies a location: stop/platform, station, entrance/exit, generic node or boarding area"
    - id: attribute:011
      name: "stop_name"
      type: "String"
      description: "Name of the location."
    - id: attribute:012
      name: "stop_lat"
      type: "String"
      description: "Latitude of the location."
    - id: attribute:013
      name: "stop_lon"
      type: "String"
      description: "Longitude of the location."
  - id: data-entity:003
    name: "Route"
    presence: "Required"
    description: "Transit routes. A route is a group of trips that are displayed to riders as a single service."
    attributes:
    - id: attribute:020
      name: "route_id"
      type: "String"
      description: "Identifies a route."
    - id: attribute:021
      name: "agency_id"
      type: "String"
      description: "Agency for the specified route."
    - id: attribute:022
      name: "route_short_name"
      type: "String"
      description: "Short name of a route. Often a short, abstract identifier."
    - id: attribute:023
      name: "route_long_name"
      type: "String"
      description: "Full name of a route. This name is generally more descriptive than the `route_short_name` and often includes the route's destination or stop."
    - id: attribute:024
      name: "route_type"
      type: "String"
      description: "Indicates the type of transportation used on a route."
  - id: data-entity:004
    name: "Trip"
    presence: "Required"
    description: "Trips for each route. A trip is a sequence of two or more stops that occur during a specific time period."
    attributes:
    - id: attribute:030
      name: "route_id"
      type: "String"
      description: "Identifies a route."
    - id: attribute:031
      name: "service_id"
      type: "String"
      description: "Identifies a set of dates when service is available for one or more routes."
    - id: attribute:032
      name: "trip_id"
      type: "String"
      description: "Identifies a trip."
  - id: data-entity:005
    name: "Stop Time"
    presence: "Required"
    description: "Times that a vehicle arrives at and departs from stops for each trip."
    attributes:
    - id: attribute:040
      name: "trip_id"
      type: "String"
      description: "Identifies a trip."
    - id: attribute:041
      name: "arrival_time"
      type: "String"
      description: "Arrival time at the stop for a specific trip."
    - id: attribute:042
      name: "departure_time"
      type: "String"
      description: "Departure time from the stop for a specific trip."
    - id: attribute:043
      name: "stop_id"
      type: "String"
      description: "Identifies the serviced stop."
    - id: attribute:044
      name: "stop_sequence"
      type: "String"
      description: "Order of stops, location groups, or GeoJSON locations for a particular trip"
  - id: data-entity:006
    name: "Calendar"
    presence: "Conditionally Required"
    description: "Service dates specified using a weekly schedule with start and end dates."
    attributes:
    - id: attribute:050
      name: "service_id"
      type: "String"
      description: "Identifies a set of dates when service is available for one or more routes."
    - id: attribute:051
      name: "monday"
      type: "String"
      description: "Indicates whether the service operates on all Mondays in the date range specified by the `start_date` and `end_date` fields"
    - id: attribute:052
      name: "tuesday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Tuesdays."
    - id: attribute:053
      name: "wednesday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Wednesdays."
    - id: attribute:054
      name: "thursday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Thursdays."
    - id: attribute:055
      name: "friday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Fridays."
    - id: attribute:056
      name: "saturday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Saturdays."
    - id: attribute:057
      name: "sunday"
      type: "String"
      description: "Functions in the same way as `monday` except applies to Sundays."
    - id: attribute:058
      name: "start_date"
      type: "String"
      description: "Start service day for the service interval."
    - id: attribute:059
      name: "end_date"
      type: "String"
      description: "End service day for the service interval. This service day is included in the interval.."
  - id: data-entity:007
    name: "Calendar Date"
    presence: "Conditionally Required"
    description: "Exceptions for the services defined in the calendar."
    attributes:
    - id: attribute:060
      name: "service_id"
      type: "String"
      description: "Identifies a set of dates when a service exception occurs for one or more route."
    - id: attribute:061
      name: "date"
      type: "String"
      description: "Date when service exception occurs."
    - id: attribute:062
      name: "exception_type"
      type: "String"
      description: "Indicates whether service is available on the date specified in the date field."
  - id: data-entity:008
    name: "Fare Attribute"
    presence: "Optional"
    description: "Fare information for a transit agency's routes."
  - id: data-entity:009
    name: "Fare Rule"
    presence: "Optional"
    description: "Rules to apply fares for itineraries."
  - id: data-entity:010
    name: "Timeframe"
    presence: "Optional"
    description: "Date and time periods to use in fare rules for fares that depend on date and time factors."
  - id: data-entity:011
    name: "Rider Category"
    presence: "Optional"
    description: "Defines categories of riders (e.g. elderly, student)."
  - id: data-entity:012
    name: "Fare Medium"
    presence: "Optional"
    description: "Describes the fare media that can be employed to use fare products."
  - id: data-entity:013
    name: "Fare Product"
    presence: "Optional"
    description: "Describes the different types of tickets or fares that can be purchased by riders."
  - id: data-entity:014
    name: "Fare Leg Rule"
    presence: "Optional"
    description: "Fare rules for individual legs of travel."
  - id: data-entity:015
    name: "Fare Leg Join Rule"
    presence: "Optional"
    description: "Rules for defining two or more legs should be considered as a single effective fare leg for the purposes of matching against rules in fare leg rules."
  - id: data-entity:016
    name: "Fare Transfer Rule"
    presence: "Optional"
    description: "Fare rules for transfers between legs of travel."
  - id: data-entity:017
    name: "Area"
    presence: "Optional"
    description: "Area grouping of locations."
  - id: data-entity:018
    name: "Stop Area"
    presence: "Optional"
    description: "Rules to assign stops to areas."
  - id: data-entity:019
    name: "Network"
    presence: "Conditionally Forbidden"
    description: "Network grouping of routes."
  - id: data-entity:020
    name: "Route Network"
    presence: "Conditionally Forbidden"
    description: "Rules to assign routes to networks."
  - id: data-entity:021
    name: "Shape"
    presence: "Optional"
    description: "Rules for mapping vehicle travel paths, sometimes referred to as route alignments."
  - id: data-entity:022
    name: "Frequency"
    presence: "Optional"
    description: "Headway (time between trips) for headway-based service or a compressed representation of fixed-schedule service."
  - id: data-entity:023
    name: "Transfer"
    presence: "Optional"
    description: "Rules for making connections at transfer points between routes."
  - id: data-entity:024
    name: "Pathway"
    presence: "Optional"
    description: "Pathways linking together locations within stations."
  - id: data-entity:025
    name: "Level"
    presence: "Conditionally Required"
    description: "Levels within stations."
  - id: data-entity:026
    name: "Location Group"
    presence: "Optional"
    description: "A group of stops that together indicate locations where a rider may request pickup or drop off."
  - id: data-entity:027
    name: "Location Group Stop"
    presence: "Optional"
    description: "Rules to assign stops to location groups."
  - id: data-entity:028
    name: "Location"
    presence: "Optional"
    description: "Zones for rider pickup or drop-off requests by on-demand services, represented as GeoJSON polygons."
  - id: data-entity:029
    name: "Booking Rule"
    presence: "Optional"
    description: "Booking information for rider-requested services."
  - id: data-entity:030
    name: "Translation"
    presence: "Optional"
    description: "Translations of customer-facing dataset values."
  - id: data-entity:031
    name: "Feed Info"
    presence: "Conditionally Required"
    description: "Dataset metadata, including publisher, version, and expiration information."
  - id: data-entity:032
    name: "Attribution"
    presence: "Optional"
    description: "Dataset attributions."

# -------------------------
# Operational data entities
# -------------------------

# Vehículo (vehicle), dispositivos de a bordo (on-board device), dispositivos en la infraestructura (infrastructure device), pantallas (screen), conductor (driver), despachador (dispatcher)