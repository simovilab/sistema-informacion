# yaml-language-server: $schema=../schemas/components.schema.json
# Metadata about the catalog

metadata:
  title: "Catálogo de Componentes de Datos"
  version: "1.0.0"
  date: "2025-09-18"
  description: "Componentes lógicos/físicos que realizan/gestionan entidades de datos en el Sistema de Información de Transporte Público."
  author:
    - "Jostin Cubero Torres"
    - "Fabián Abarca Calderón"
  organization: "Laboratorio de Sistemas Inteligentes de Movilidad (SIMOVI)"
  contact: "simovi@ucr.ac.cr"
  license: "CC BY-NC 4.0"

data_components:
  - id: component:001
    name: "Gestor de base de datos relacionada"
    description: "Base de datos transaccional (p.ej., PostgreSQL) que materializa entidades GTFS canónicas."
    data_entities:
      - "data-entity:002"  # Agency
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop
      - "data-entity:006"  # ServiceCalendar
      - "data-entity:007"  # Vehicle

  - id: component:002
    name: "Infobus API (API pública de información)"
    description: "API HTTP para consulta pública de información (lecturas) sobre rutas, viajes y paradas."
    data_entities:
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop

  - id: component:003
    name: "Databus API (API de ingesta de datos)"
    description: "Servicio de ingesta que importa/valida GTFS y datos operativos; escribe en el gestor relacional."
    data_entities:
      - "data-entity:002"  # Agency
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop
      - "data-entity:006"  # ServiceCalendar
      - "data-entity:007"  # Vehicle

  - id: component:004
    name: "Databus Realtime Server (servidor en tiempo real)"
    description: "Publica/gestiona actualizaciones en tiempo real (p.ej., posiciones de vehículos, avances de viaje)."
    data_entities:
      - "data-entity:007"  # Vehicle
      - "data-entity:004"  # Trip

  - id: component:005
    name: "Infobus Screens (servidor de pantalla)"
    description: "Back-end que alimenta pantallas de usuario/estación; consume Info API y tiempo real."
    data_entities:
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop

  - id: component:006
    name: "Infobus Info Server (servidor de información del TP)"
    description: "Servicio interno de agregación/caching para consultas combinadas (catálogos + tiempo real)."
    data_entities:
      - "data-entity:002"  # Agency
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop
      - "data-entity:006"  # ServiceCalendar

  - id: component:007
    name: "Infobus Data (servidor de análisis de datos)"
    description: "Plataforma analítica que consolida históricos para reporting y modelos (BI/ETL)."
    data_entities:
      - "data-entity:003"  # Route
      - "data-entity:004"  # Trip
      - "data-entity:005"  # Stop
      - "data-entity:007"  # Vehicle

  - id: component:008
    name: "User Management"
    description: "Gestión de perfiles de usuario (registro y perfil). **No** maneja credenciales aquí; solo metadatos del User."
    data_entities:
      - "data-entity:001"  # User

