# yaml-language-server: $schema=../schemas/entities.schema.json
# Metadata about the catalog

metadata:
  title: "Catálogo de Entidades de Datos"
  version: "1.0.0"
  date: "2025-09-18"
  description: "Entidades canónicas del Sistema de Información de Transporte Público (alineadas a GTFS y extensiones operativas)."
  author:
    - "Jostin Cubero Torres"
    - "Fabián Abarca Calderón"
  organization: "Laboratorio de Sistemas Inteligentes de Movilidad (SIMOVI)"
  contact: "simovi@ucr.ac.cr"
  license: "CC BY-NC 4.0"

data_entities:
  - id: data-entity:001
    name: "Vehículo"
    presence: "Operational"
    description: "Representa un vehículo de transporte (p. ej., autobús, tren) que opera servicios programados o no programados."
    attributes:
    - id: attribute:176
      name: "vehicle_id"
      type: "String"
      description: "Identificador único del vehículo."
    - id: attribute:177
      name: "vehicle_label"
      type: "String"
      description: "Etiqueta pública o número de flota del vehículo."
    - id: attribute:178
      name: "license_plate"
      type: "String"
      description: "Placa de matrícula del vehículo."
    - id: attribute:179
      name: "agency_id"
      type: "String"
      description: "Agencia de transporte que posee u opera el vehículo."
    - id: attribute:180
      name: "capacity"
      type: "Integer"
      description: "Capacidad de pasajeros del vehículo."

  - id: data-entity:002
    name: "Dispositivo a bordo"
    presence: "Operational"
    description: "Equipo electrónico instalado en los vehículos para adquisición de datos, posicionamiento o comunicación (p. ej., GPS, validador, APC)."
    attributes:
    - id: attribute:181
      name: "device_id"
      type: "String"
      description: "Identificador único del dispositivo a bordo."
    - id: attribute:182
      name: "vehicle_id"
      type: "String"
      description: "Identifica el vehículo donde está instalado el dispositivo."
    - id: attribute:183
      name: "device_type"
      type: "String"
      description: "Tipo de dispositivo (GPS, validador, cámara, etc.)."
    - id: attribute:184
      name: "firmware_version"
      type: "String"
      description: "Versión actual del firmware o software."
    - id: attribute:185
      name: "status"
      type: "String"
      description: "Estado operativo del dispositivo (activo, fuera de línea, mantenimiento)."

  - id: data-entity:003
    name: "Dispositivo de infraestructura"
    presence: "Operational"
    description: "Equipamiento fijo instalado en estaciones o puntos de infraestructura para captura de datos o información al pasajero (p. ej., sensores, gateways, CCTV)."
    attributes:
    - id: attribute:186
      name: "infra_device_id"
      type: "String"
      description: "Identificador único del dispositivo de infraestructura."
    - id: attribute:187
      name: "location_id"
      type: "String"
      description: "Ubicación o parada donde está instalado el dispositivo."
    - id: attribute:188
      name: "device_type"
      type: "String"
      description: "Tipo de dispositivo (cámara, gateway, sensor, etc.)."
    - id: attribute:189
      name: "status"
      type: "String"
      description: "Estado operativo (activo, fuera de línea, en mantenimiento)."

  - id: data-entity:004
    name: "Pantalla"
    presence: "Operational"
    description: "Pantalla de información pública instalada en vehículos o estaciones para presentar información de transporte en tiempo real."
    attributes:
    - id: attribute:190
      name: "screen_id"
      type: "String"
      description: "Identificador único del dispositivo de pantalla."
    - id: attribute:191
      name: "location_id"
      type: "String"
      description: "Parada o estación asociada donde se ubica la pantalla."
    - id: attribute:192
      name: "screen_type"
      type: "String"
      description: "Tipo de pantalla (LED, LCD, e‑ink, etc.)."
    - id: attribute:193
      name: "content_source"
      type: "String"
      description: "API o servidor que proporciona contenido a la pantalla."
    - id: attribute:194
      name: "status"
      type: "String"
      description: "Estado operativo (activo, fuera de línea, mantenimiento)."

  - id: data-entity:005
    name: "Conductor"
    presence: "Operational"
    description: "Operador humano de un vehículo, responsable de la ejecución segura y puntual del servicio."
    attributes:
    - id: attribute:195
      name: "driver_id"
      type: "String"
      description: "Identificador único del conductor."
    - id: attribute:196
      name: "driver_name"
      type: "String"
      description: "Nombre completo del conductor."
    - id: attribute:197
      name: "license_number"
      type: "String"
      description: "Número de licencia profesional del conductor."
    - id: attribute:198
      name: "agency_id"
      type: "String"
      description: "Agencia que emplea al conductor."
    - id: attribute:199
      name: "status"
      type: "String"
      description: "Estado laboral o de asignación (en servicio, fuera de servicio, suspendido)."

  - id: data-entity:006
    name: "Despachador"
    presence: "Operational"
    description: "Personal o software responsable de asignar, monitorear y controlar vehículos y conductores en operación."
    attributes:
    - id: attribute:200
      name: "dispatcher_id"
      type: "String"
      description: "Identificador único del despachador."
    - id: attribute:201
      name: "dispatcher_name"
      type: "String"
      description: "Nombre completo del despachador (o nombre del sistema si es automatizado)."
    - id: attribute:202
      name: "agency_id"
      type: "String"
      description: "Agencia o empresa operadora responsable del despachador."
    - id: attribute:203
      name: "workstation"
      type: "String"
      description: "Identificador o descripción del puesto de control."
    - id: attribute:204
      name: "status"
      type: "String"
      description: "Estado operativo (activo, fuera de línea, en espera)."

