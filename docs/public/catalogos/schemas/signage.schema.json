{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Signage and Environmental Design Catalog Schema",
  "description": "JSON Schema for validating signage and environmental design catalog YAML files in the Public Transportation Information System architecture",
  "type": "object",
  "required": ["metadata", "signage"],
  "properties": {
    "metadata": {
      "$ref": "./metadata.schema.json"
    },
    "signage": {
      "type": "array",
      "description": "List of signage and environmental design elements in the public transportation system",
      "items": {
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "materials",
          "typography",
          "color_scheme",
          "content"
        ],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^sign:\\d{3}$",
            "description": "Unique identifier for the signage element following the pattern sign:XXX"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "description": "The name of the signage element"
          },
          "type": {
            "type": "string",
            "enum": ["static", "digital", "kiosk"],
            "description": "The type of signage: static (printed), digital (electronic display), or kiosk (interactive)"
          },
          "category": {
            "type": "string",
            "enum": ["operational", "wayfinding", "regulatory", "promotional"],
            "description": "The functional category of signage: operational (routes, schedules, real-time data), wayfinding (navigation and orientation), regulatory (rules, safety, compliance), or promotional (marketing and advertising)"
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "description": "A brief description of the signage element"
          },
          "materials": {
            "type": "array",
            "description": "Materials used in the construction of the signage",
            "items": {
              "type": "string",
              "minLength": 1
            },
            "minItems": 1
          },
          "typography": {
            "type": "string",
            "minLength": 1,
            "description": "Font family used in the signage"
          },
          "color_scheme": {
            "type": "string",
            "pattern": "^scheme:[a-z0-9_]+$",
            "description": "Reference to a color scheme from the Graphics Catalog in the format scheme:[name]"
          },
          "content": {
            "type": "object",
            "description": "Content elements displayed on the signage organized by type",
            "properties": {
              "text": {"type": "string"},
              "gtfs": {
                "type": "array",
                "description": "GTFS data fields from the GTFS Catalog displayed on the signage",
                "items": {
                  "type": "string",
                  "pattern": "^gtfs:[a-z0-9_]+$"
                },
                "minItems": 1
              },
              "icons": {
                "type": "array",
                "description": "Icon identifiers from the Graphics Catalog",
                "items": {
                  "type": "string",
                  "pattern": "^icon:[a-z0-9_]+$"
                },
                "minItems": 1
              },
              "logos": {
                "type": "array",
                "description": "Logo identifiers from the Graphics Catalog",
                "items": {
                  "type": "string",
                  "pattern": "^logo:[a-z0-9_]+$"
                },
                "minItems": 1
              }
            },
            "additionalProperties": false
          },
          "standard_reference": {
            "type": "string",
            "minLength": 1,
            "description": "Reference to relevant standards (e.g., ISO 7001:2023)"
          },
          "example_images": {
            "type": "array",
            "description": "List of example image URLs for the signage",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "minItems": 1
          },
          "images": {
            "type": "object",
            "description": "Image references for the signage",
            "properties": {
              "layout": {
                "type": "string",
                "pattern": "^layout:[a-z0-9_]+$",
                "description": "Reference to a layout from the Graphics Catalog in the format layout:[name]"
              },
              "mockup": {
                "type": "string",
                "format": "uri",
                "description": "URL of a mockup image representing the signage design"
              }
            },
            "additionalProperties": false
          },
          "mounting": {
            "type": "object",
            "description": "Mounting configuration for the signage element",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["freestanding", "suspended", "projecting", "flush"],
                "description": "Mounting type or method"
              },
              "form": {
                "type": "string",
                "enum": ["monolith", "single-posted", "multiple-posted", "plaque"],
                "description": "Mounting form factor"
              },
              "surface": {
                "type": "string",
                "enum": ["ground", "wall", "ceiling"],
                "description": "Mounting surface type"
              },
              "zone": {
                "type": "string",
                "enum": ["eye-level", "overhead"],
                "description": "Mounting zone or height category"
              }
            },
            "required": ["type", "form", "zone"],
            "additionalProperties": false
          },
          "lighting": {
            "type": "string",
            "enum": ["external", "internal", "none"],
            "description": "The lighting type for the signage element"
          },
          "spaces": {
            "type": "array",
            "description": "List of space IDs from the Spaces Catalog where this signage can be placed",
            "items": {
              "type": "string",
              "pattern": "^space:[a-z0-9_]+$"
            },
            "minItems": 1
          }
        },
        "additionalProperties": false
      },
      "minItems": 1
    }
  },
  "additionalProperties": false
}